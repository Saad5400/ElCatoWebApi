{"version":3,"file":"static/js/33.5155a093.chunk.js","mappings":"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","sources":["components/AdminTable.js","components/Alert.js","components/FormControl.js","components/BundledEditor.js","pages/admin/PagesTable.js"],"sourcesContent":["import React from \"react\";\r\nimport { api } from \"../App\";\r\nimport Alert from \"./Alert\";\r\nimport { UserContext } from \"../App\";\r\n\r\nexport default function AdminTable(props) {\r\n\r\n    const { model, setModel, models, setModels, sort, defaultModel } = props;\r\n\r\n    const userContext = React.useContext(UserContext);\r\n    const [error, setError] = React.useState(null);\r\n    const [success, setSuccess] = React.useState(null);\r\n\r\n    const CREATE = \"Create\",\r\n        EDIT = \"Edit\";\r\n    const [state, setState] = React.useState(CREATE); // Create, Edit\r\n\r\n    React.useEffect(() => {\r\n        api.get(props.apiPath).then(res => {\r\n            let data = res.data;\r\n            sort(data);\r\n            setModels(data);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }, []);\r\n\r\n    function reset(e) {\r\n        e.preventDefault();\r\n        setError(null);\r\n        setSuccess(null);\r\n        // setState(CREATE);\r\n        setModel(defaultModel);\r\n        document.querySelector(\"form[id=mainForm]\").reset();\r\n        document.querySelectorAll(\"button\").forEach(b => b.disabled = false);\r\n        props.reset && props.reset(e);\r\n    }\r\n\r\n    function handleDelete(e) {\r\n        reset(e);\r\n        const id = e.target.value;\r\n        api.delete(`${props.apiPath}/${id}`).then(res => {\r\n            if (res.status.toString().startsWith(\"2\")) {\r\n                setModels(models.filter(m => m.id != id));\r\n                setSuccess(\"Item deleted successfully\");\r\n            }\r\n            else {\r\n                setError(JSON.stringify(res));\r\n            }\r\n        }).catch(err => {\r\n            setError(JSON.stringify(err.message));\r\n        });\r\n        props.handleDelete && props.handleDelete(e);\r\n    }\r\n\r\n    function handleEdit(e) {\r\n        reset(e);\r\n        e.target.disabled = true;\r\n        setState(EDIT);\r\n        const id = e.target.value;\r\n        const model = models.find(s => s.id == id);\r\n        setModel(model);\r\n    }\r\n\r\n    function handleCreate(e) {\r\n        reset(e);\r\n        setState(CREATE);\r\n        props.handleCreate && props.handleCreate(e);\r\n    }\r\n\r\n    function submit(e) {\r\n        document.querySelector(\"button[id=submit]\").disabled = true;\r\n        api.post(`${props.apiPath}/upsert`, model)\r\n            .then(res => {\r\n                if (res.status.toString().startsWith(\"2\")) {\r\n                    setModel(res.data);\r\n                    let data;\r\n                    if (state === CREATE) {\r\n                        data = [...models, res.data];\r\n                    } else {\r\n                        data = models.map(s => s.id == res.data.id ? res.data : s);\r\n                    }\r\n                    sort(data);\r\n                    setModels(data);\r\n                    reset(e);\r\n                    setSuccess(\"model saved successfully\");\r\n                }\r\n                else {\r\n                    setError(JSON.stringify(res));\r\n                }\r\n            })\r\n            .catch(err => {\r\n                setError(JSON.stringify(err.message));\r\n            })\r\n            .finally(() => {\r\n                document.querySelector(\"button[id=submit]\").disabled = false;\r\n            });\r\n    }\r\n\r\n    return (<div className=\"w-full max-w-md sm:max-w-none h-full tajawal lg:mt-5\">\r\n        <form id=\"mainForm\">\r\n            <h1 className=\"flex justify-between\">\r\n                <span className=\"text-2xl\">\r\n                    {state} {model ? model.title : props.title}\r\n                </span>\r\n                <button className=\"btn btn-primary\" onClick={handleCreate}>\r\n                    New\r\n                </button>\r\n            </h1>\r\n            {props.children}\r\n            <div className=\"mt-5\">\r\n                <button id=\"submit\" className=\"btn btn-primary btn-block\" onClick={submit}>{state}</button>\r\n                {error && <Alert className=\"alert-error\">\r\n                    {error}\r\n                </Alert>}\r\n                {success && <Alert className=\"alert-success\">\r\n                    {success}\r\n                </Alert>}\r\n            </div>\r\n        </form>\r\n        <div className=\"mt-10\">\r\n\r\n        </div>\r\n        <h1 className=\"text-2xl\">Your {props.title}</h1>\r\n        <div className=\"overflow-auto w-full max-h-[30rem]\">\r\n            <table className=\"table\">\r\n                {/* head */}\r\n                <thead className=\"sticky top-0 bg-base-100\">\r\n                    <tr>\r\n                        {props.cols?.map((col, i) => (\r\n                            <th key={i}>{col.label}</th>\r\n                        ))}\r\n                        {userContext.isAdmin && <th>Actions</th>}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        models?.map((model, i) => (\r\n                            <tr key={i}>\r\n                                {props.cols?.map((col, j) => (\r\n                                    <td key={j}>{col.getValue(model)}</td>\r\n                                ))}\r\n                                {userContext.isAdmin && <td>\r\n                                    <button className=\"btn btn-sm btn-error hover:bg-red-900\" value={model.id} onClick={e => {\r\n                                        return window.confirm(\"Are you sure you want to delete this item?\") ? handleDelete(e) : null;\r\n                                    }}>Delete</button>\r\n                                    <button className=\"btn btn-sm btn-secondary\" value={model.id} onClick={handleEdit}>Edit</button>\r\n                                </td>}\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <br />\r\n        <br />\r\n    </div>);\r\n}","export default function Alert(props) {\r\n\treturn (<div className={\"alert flex \" + props.className}>\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" className=\"stroke-current shrink-0 w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>\r\n\t\t<span className=\"w-full\">\r\n\t\t\t{props.children}\r\n\t\t</span>\r\n\t</div>)\r\n}","export default function FormControl(props) {\r\n    return (\r\n        <div className={\"form-control w-full \" + props.className}>\r\n            <label className=\"label\">\r\n                <span className=\"label-text\">\r\n                    {props.label}\r\n                </span>\r\n            </label>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}","import { Editor } from '@tinymce/tinymce-react';\r\n\r\n// TinyMCE so the global var exists\r\n// eslint-disable-next-line no-unused-vars\r\nimport tinymce from 'tinymce/tinymce';\r\n// DOM model\r\nimport 'tinymce/models/dom/model'\r\n// Theme\r\nimport 'tinymce/themes/silver';\r\n// Toolbar icons\r\nimport 'tinymce/icons/default';\r\n// Editor styles\r\nimport 'tinymce/skins/ui/oxide-dark/skin.min.css';\r\n\r\n// importing the plugin js.\r\n// if you use a plugin that is not listed here the editor will fail to load\r\nimport 'tinymce/plugins/advlist';\r\nimport 'tinymce/plugins/anchor';\r\nimport 'tinymce/plugins/autolink';\r\nimport 'tinymce/plugins/autoresize';\r\nimport 'tinymce/plugins/autosave';\r\nimport 'tinymce/plugins/charmap';\r\nimport 'tinymce/plugins/code';\r\nimport 'tinymce/plugins/codesample';\r\nimport 'tinymce/plugins/directionality';\r\nimport 'tinymce/plugins/emoticons';\r\nimport 'tinymce/plugins/fullscreen';\r\nimport 'tinymce/plugins/image';\r\nimport 'tinymce/plugins/importcss';\r\nimport 'tinymce/plugins/insertdatetime';\r\nimport 'tinymce/plugins/link';\r\nimport 'tinymce/plugins/lists';\r\nimport 'tinymce/plugins/media';\r\nimport 'tinymce/plugins/nonbreaking';\r\nimport 'tinymce/plugins/pagebreak';\r\nimport 'tinymce/plugins/preview';\r\nimport 'tinymce/plugins/quickbars';\r\nimport 'tinymce/plugins/save';\r\nimport 'tinymce/plugins/searchreplace';\r\nimport 'tinymce/plugins/table';\r\nimport 'tinymce/plugins/template';\r\nimport 'tinymce/plugins/visualblocks';\r\nimport 'tinymce/plugins/visualchars';\r\nimport 'tinymce/plugins/wordcount';\r\n\r\n// importing plugin resources\r\nimport 'tinymce/plugins/emoticons/js/emojis';\r\n\r\n// Content styles, including inline UI like fake cursors\r\n/* eslint import/no-webpack-loader-syntax: off */\r\nimport contentCss from '!!raw-loader!tinymce/skins/content/dark/content.min.css';\r\nimport contentUiCss from '!!raw-loader!tinymce/skins/ui/oxide-dark/content.min.css';\r\n\r\nexport default function BundledEditor(props) {\r\n    const { init, ...rest } = props;\r\n    // note that skin and content_css is disabled to avoid the normal\r\n    // loading process and is instead loaded as a string via content_style\r\n    return (\r\n        <Editor\r\n            init={{\r\n                ...init,\r\n                skin: 'oxide-dark',\r\n                content_css: false,\r\n                content_style: [contentCss, contentUiCss, init.content_style || ''].join('\\n'),\r\n            }}\r\n            {...rest}\r\n        />\r\n    );\r\n}","import React from \"react\";\r\nimport AdminTable from \"../../components/AdminTable\";\r\nimport FormControl from \"../../components/FormControl\";\r\nimport { api } from \"../../App\";\r\nimport BundledEditor from '../../components/BundledEditor';\r\n\r\nexport default function PagesTable() {\r\n\r\n    const editorRef = React.useRef(null);\r\n    const defaultPage = { card: {} };\r\n    const [page, setPage] = React.useState(defaultPage);\r\n    const [pages, setPages] = React.useState(null);\r\n    const [sections, setSections] = React.useState(null);\r\n    const [sectionId, setSectionId] = React.useState(null);\r\n    const [availableCards, setAvailableCards] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        api.get(\"/sections\").then(res => {\r\n            setSections(res.data);\r\n            setSectionId(res.data[0].id);\r\n            setAvailableCards(res.data[0].cards);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (sectionId) {\r\n            const cards = sections.find(s => s.id == sectionId).cards;\r\n            setAvailableCards(cards);\r\n            setPage({ ...page, cardId: cards[0]?.id });\r\n        }\r\n    }, [sectionId]);\r\n\r\n    React.useEffect(() => {\r\n        setSectionId(page?.card?.section?.id);\r\n        setPage(page);\r\n\r\n        // if the editor is not focused\r\n        if (editorRef.current?.hasFocus() == false) {\r\n            if (page?.content) {\r\n                editorRef.current?.setContent(page?.content);\r\n            }\r\n            else {\r\n                editorRef.current?.setContent(\"\");\r\n            }\r\n        }\r\n    }, [page]);\r\n\r\n    function sort(pages) {\r\n        pages.sort((a, b) => {\r\n            if (a.card?.section?.order == b.card?.section?.order) {\r\n                if (a.card?.order == b.card?.order) {\r\n                    return a.order - b.order;\r\n                }\r\n                return a.card?.order - b.card?.order;\r\n            }\r\n            return a.card?.section?.order - b.card?.section?.order;\r\n        });\r\n    }\r\n\r\n    let cols = [\r\n        { name: \"id\", label: \"ID\", getValue: (p) => p.id },\r\n        { name: \"title\", label: \"Title\", getValue: (p) => p.title },\r\n        { name: \"order\", label: \"Order\", getValue: (p) => p.order },\r\n        { name: \"section\", label: \"Section\", getValue: (p) => p.card?.section?.title },\r\n        { name: \"card\", label: \"Card\", getValue: (p) => p.card?.title },\r\n        { name: \"accepted\", label: \"Approved\", getValue: (p) => p.accepted ? \"Yes\" : \"No\" },\r\n    ];\r\n\r\n    function reset(e) {\r\n        document.querySelector(\"textarea\").value = \"\";\r\n        setSectionId(sections[0].id);\r\n        setPage({\r\n            ...defaultPage,\r\n            cardId: sections[0].cards[0].id,\r\n        });\r\n    }\r\n\r\n    return (<AdminTable\r\n        reset={reset}\r\n        sort={sort}\r\n        defaultModel={defaultPage}\r\n        model={page}\r\n        setModel={setPage}\r\n        models={pages}\r\n        setModels={setPages}\r\n        title=\"Pages\"\r\n        apiPath=\"/pages\"\r\n        cols={cols}\r\n    >\r\n        <input type=\"hidden\" name=\"id\" value={page ? page.id : 0} />\r\n        <FormControl label=\"Title\">\r\n            <input name=\"title\" type=\"text\" className=\"input input-bordered\" value={page ? page.title : \"\"} onChange={e => {\r\n                setPage({ ...page, title: e.target.value });\r\n            }} />\r\n        </FormControl>\r\n        <FormControl label=\"Order\">\r\n            <input name=\"order\" type=\"number\" className=\"input input-bordered\" value={page ? page.order : \"\"} onChange={e => {\r\n                setPage({ ...page, order: e.target.value });\r\n            }} />\r\n        </FormControl>\r\n        <FormControl label=\"Section\">\r\n            <select name=\"sectionId\" className=\"select select-bordered w-full\" value={sectionId} onChange={e => {\r\n                setSectionId(e.target.value);\r\n            }}>\r\n                {\r\n                    sections?.map((s, i) => <option key={i} value={s.id}>{s.title}</option>)\r\n                }\r\n            </select>\r\n        </FormControl>\r\n        <FormControl label=\"Card\">\r\n            <select name=\"cardId\" className=\"select select-bordered w-full\" value={page ? page.cardId : availableCards ? availableCards[0]?.id : \"\"} onChange={e => {\r\n                setPage({ ...page, cardId: e.target.value });\r\n            }}>\r\n                {\r\n                    availableCards?.map((c, i) => <option key={i} value={c.id}>{c.title}</option>)\r\n                }\r\n            </select>\r\n        </FormControl>\r\n        <FormControl label=\"Approved\">\r\n            <input type=\"checkbox\" className=\"checkbox\" checked={page ? page.accepted : false} onChange={e => {\r\n                setPage({ ...page, accepted: e.target.checked });\r\n            }} />\r\n        </FormControl>\r\n        <FormControl label=\"Content\" />\r\n        <div className=\"\">\r\n            <BundledEditor\r\n                onInit={(evt, editor) => editorRef.current = editor}\r\n                init={{\r\n                    height: 600,\r\n\r\n                    menubar: 'edit view insert format tools table',\r\n\r\n                    plugins: 'paste searchreplace autolink directionality code visualblocks visualchars fullscreen image link media codesample table charmap hr nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons',\r\n\r\n                    toolbar: 'undo redo | bold italic | numlist bullist | forecolor backcolor removeformat | charmap emoticons | fullscreen image media link anchor codesample | ltr rtl',\r\n\r\n                    toolbar_sticky: true,\r\n\r\n                    content_style: `body { font-family: Tahoma; font-size: 14px; background-color: #000; color: #c7c7c7; }`,\r\n\r\n                    codesample_languages: [\r\n                        { text: 'HTML/XML', value: 'markup' },\r\n                        { text: 'JavaScript', value: 'javascript' },\r\n                        { text: 'CSS', value: 'css' },\r\n                        { text: 'Python', value: 'python' },\r\n                        { text: 'Java', value: 'java' },\r\n                        { text: 'C#', value: 'csharp' },\r\n                        { text: 'SQL', value: 'sql' },\r\n                        { text: 'Bash', value: 'bash' },\r\n                    ],\r\n                }}\r\n                onEditorChange={(content, editor) => {\r\n                    setPage({ ...page, content });\r\n                }}\r\n            />\r\n        </div>\r\n    </AdminTable>);\r\n}"],"names":["AdminTable","props","_props$cols","model","setModel","models","setModels","sort","defaultModel","userContext","React","UserContext","_React$useState","_React$useState2","_slicedToArray","error","setError","_React$useState3","_React$useState4","success","setSuccess","CREATE","_React$useState5","_React$useState6","state","setState","reset","e","preventDefault","document","querySelector","querySelectorAll","forEach","b","disabled","handleEdit","target","id","value","find","s","api","get","apiPath","then","res","data","catch","err","console","log","_jsxs","className","children","title","_jsx","onClick","handleCreate","post","concat","status","toString","startsWith","_toConsumableArray","map","JSON","stringify","message","finally","Alert","cols","col","i","label","isAdmin","_props$cols2","j","getValue","window","confirm","delete","filter","m","handleDelete","xmlns","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","FormControl","BundledEditor","init","rest","_objectWithoutProperties","_excluded","Editor","_objectSpread","skin","content_css","content_style","contentCss","contentUiCss","join","PagesTable","_availableCards$","editorRef","defaultPage","card","page","setPage","pages","setPages","sections","setSections","_React$useState7","_React$useState8","sectionId","setSectionId","_React$useState9","_React$useState10","availableCards","setAvailableCards","cards","_cards$","cardId","_page$card","_page$card$section","_editorRef$current","_editorRef$current2","_editorRef$current3","section","current","hasFocus","content","setContent","a","_a$card","_a$card$section","_b$card","_b$card$section","_a$card4","_a$card4$section","_b$card4","_b$card4$section","_a$card2","_b$card2","_a$card3","_b$card3","order","name","p","_p$card","_p$card$section","_p$card2","accepted","type","onChange","c","checked","onInit","evt","editor","height","menubar","plugins","toolbar","toolbar_sticky","codesample_languages","text","onEditorChange"],"sourceRoot":""}