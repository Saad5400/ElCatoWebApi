"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[818],{9818:function(t,e,n){n.r(e),n.d(e,{DataContext:function(){return u},default:function(){return o}});var r=n(9439),i=n(2791),s=n(7689),l=n(1087),a=n(9555),c=n(184),u=(0,i.createContext)(null);function o(t){var e=(0,i.useState)(null),n=(0,r.Z)(e,2),o=n[0],d=n[1],h=(0,i.useState)(!1),f=(0,r.Z)(h,2),x=f[0],m=f[1],j=(0,s.TH)();return(0,i.useEffect)((function(){j.pathname.includes("upsert")||a.hi.get("/"+t.title).then((function(e){if(200===e.status){var n=e.data;n.length>0&&(t.ignore&&t.ignore.forEach((function(t){n=n.map((function(e){return delete e[t],e}))})),n=n.sort((function(t,e){return t.order-e.order})),d(n))}})).catch((function(t){}))}),[j.pathname,x]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"w-full flex justify-between",children:[(0,c.jsx)("h1",{className:"text-3xl text-primary my-2 ms-5",children:t.title}),(0,c.jsx)(l.rU,{to:"/admin/"+t.title+"/upsert",children:(0,c.jsx)("button",{className:"btn btn-primary btn-sm me-5 my-2",children:"New"})})]}),(0,c.jsx)(u.Provider,{value:{data:o},children:(0,c.jsx)(s.j3,{})}),(0,c.jsx)("div",{className:"overflow-x-auto w-[28rem] sm:w-full",children:(0,c.jsx)("div",{className:"table-container",children:(0,c.jsxs)("table",{className:"table table-hover",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[o&&Object.keys(o[0]).map((function(t,e){return(0,c.jsx)("th",{children:t},e)})),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:o&&o.map((function(e,n){return(0,c.jsxs)("tr",{children:[Object.values(e).map((function(t,e){return(0,c.jsx)("td",{children:"object"===typeof t?t.title:t},e)})),(0,c.jsxs)("td",{children:[(0,c.jsx)(l.rU,{to:"/admin/"+t.title+"/upsert/"+e.id,children:(0,c.jsx)("button",{className:"link link-secondary",children:"Edit"})}),"\xa0",(0,c.jsx)("button",{onClick:function(n){window.confirm("Are you sure you want to delete this item?")&&a.hi.delete("/"+t.title+"/"+e.id).then((function(t){t.status.toString().startsWith("2")&&m(!x)})).catch((function(t){}))},className:"link link-error",children:"Delete"})]})]},n)}))})]})})}),(0,c.jsx)("br",{})]})}}}]);
//# sourceMappingURL=818.4b3cc8f5.chunk.js.map