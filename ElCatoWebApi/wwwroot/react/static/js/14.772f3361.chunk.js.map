{"version":3,"file":"static/js/14.772f3361.chunk.js","mappings":"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","sources":["pages/Page.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { api } from \"../App\";\r\nimport Dimmer from \"../components/Dimmer\";\r\nimport { LayoutContext } from \"./Layout\";\r\nimport 'prismjs/themes/prism-okaidia.min.css';\r\nimport Prism from 'prismjs';\r\n\r\nimport 'prismjs/components/prism-markup';\r\nimport 'prismjs/components/prism-javascript';\r\nimport 'prismjs/components/prism-css';\r\nimport 'prismjs/components/prism-python';\r\nimport 'prismjs/components/prism-java';\r\nimport 'prismjs/components/prism-csharp';\r\nimport 'prismjs/components/prism-sql';\r\nimport 'prismjs/components/prism-bash';\r\n\r\nexport default function Page(props) {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [title, setTitle] = useState(\"\")\r\n    const [iframe, setIframe] = useState(<></>)\r\n    const [content, setContent] = useState(<></>)\r\n    const layoutContext = React.useContext(LayoutContext);\r\n\r\n    const contentRef = useRef(null);\r\n\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        api.get(\"/pages/\" + id).then(res => {\r\n            setLoading(false);\r\n            setTitle(`${res.data?.card?.section?.title} - ${res.data?.card?.title} - ${res.data?.title}`);\r\n            let content = res.data?.content;\r\n            let links = [];\r\n            let h1s = content.match(/<h1.*?>.*?<\\/h1>/g);\r\n            if (h1s) {\r\n                h1s.forEach(h1 => {\r\n                    // add an id to each h1 that contains the h1's innerText\r\n                    let h1Content = h1.match(/<h1.*?>(.*?)<\\/h1>/)[1];\r\n                    let h1InnerText = h1Content.replace(/<.*?>/g, \"\");\r\n                    // limit inner text to 10 characters\r\n                    const limit = 15;\r\n                    if (h1InnerText.length > limit) {\r\n                        h1InnerText = h1InnerText.substring(0, limit) + \"...\";\r\n                    }\r\n                    let h1Dir = h1.match(/<h1.*?dir=\"(.*?)\".*?>/);\r\n                    h1Dir = h1Dir ? h1Dir[1] : null;\r\n                    let h1Id = h1InnerText.toLowerCase().replace(/ /g, \"-\");\r\n                    content = content.replace(h1, `<h1 id=\"${h1Id}\"${h1Dir ? ` dir=\"${h1Dir}\"` : \"\"}>${h1Content}</h1>`);\r\n                    links.push({\r\n                        id: h1Id,\r\n                        name: h1InnerText\r\n                    });\r\n                });\r\n            }\r\n            layoutContext.setLinks(links);\r\n            setContent(\r\n                <div ref={contentRef} dangerouslySetInnerHTML={{ __html: content }} />\r\n            );\r\n        }).catch(err => {\r\n            // console.log(err);\r\n        });\r\n    }, [id, layoutContext])\r\n\r\n    useEffect(() => {\r\n        if (contentRef?.current) {\r\n            Prism.highlightAllUnder(contentRef.current);\r\n        }\r\n    }, [content])\r\n\r\n    useEffect(() => {\r\n        document.title = title;\r\n    }, [title])\r\n\r\n    return (\r\n        <>\r\n            <Dimmer>\r\n                <div className=\"max-w-7xl mx-auto\">\r\n                    <h1 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-base-content mb-5\">\r\n                        {loading ?\r\n                            <div role=\"status\" className=\"animate-pulse\">\r\n                                <div className=\"h-2.5 bg-base-content rounded-full w-full mb-4\"></div>\r\n                            </div>\r\n                            : title}\r\n                        <hr className=\"border-base-content\" />\r\n                    </h1>\r\n                    <article id=\"content\" className=\"mb-5 prose max-w-full\r\n                                        prose-sm md:prose-md\r\n                                        text-base-content\r\n                                        font-bold\r\n                                        tajawal\r\n                                    \"\r\n                    >\r\n                        {loading &&\r\n                            <div role=\"status\" className=\"max-w-3xl animate-pulse\">\r\n                                <div className=\"h-2 bg-base-content mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[330px] mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[300px] mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[330px] mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[300px] mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[330px] mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[300px] mb-2.5\"></div>\r\n                                <div className=\"h-2 bg-base-content max-w-[360px]\"></div>\r\n                            </div>\r\n                        }\r\n                        {content}\r\n                        {iframe}\r\n                    </article>\r\n                </div>\r\n            </Dimmer>\r\n        </>\r\n    );\r\n}"],"names":["Page","props","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","title","setTitle","_useState5","_jsx","_Fragment","_useState6","iframe","_useState7","_useState8","content","setContent","layoutContext","React","LayoutContext","contentRef","useRef","id","useParams","useEffect","api","get","then","res","_res$data","_res$data$card","_res$data$card$sectio","_res$data2","_res$data2$card","_res$data3","_res$data4","concat","data","card","section","links","h1s","match","forEach","h1","h1Content","h1InnerText","replace","length","substring","h1Dir","h1Id","toLowerCase","push","name","setLinks","ref","dangerouslySetInnerHTML","__html","catch","err","current","Prism","document","children","Dimmer","_jsxs","className","role"],"sourceRoot":""}